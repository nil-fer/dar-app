<div class="devise_form">

<h2><%= t "devise.invitations.new.header" %></h2>

<%= form_for(resource, as: resource_name, url: invitation_path(resource_name), html: { method: :post }) do |f| %>
  <%= render "devise/shared/error_messages", resource: resource %>

  <div class="field">
    <%= f.label :Почта %><br />
    <%= f.text_field :email %>
  </div>

  <div class="field">
    <%= f.label :role %><br />
    <%= f.select :role, %w[Администратор Ритейлер Менеджер] %>
  </div>

  <div class="field">
    <%= f.label :Компания %><br />
    <%= f.select :company_id, Company.all.pluck(:company_name, :id), include_blank: true %>
  </div>

  <div class="field">
    <%= f.label :Аутлет %><br />
    <%= f.select :outlet_id,
      Outlet.all.map {|ou| [ou.company.company_name + ', ' + display_title_address(ou.address), ou.id]},
      include_blank: true
    %>
  </div>

  <div class="actions button">
    <%= f.submit t("devise.invitations.new.submit_button") %>
  </div>
<% end %>
